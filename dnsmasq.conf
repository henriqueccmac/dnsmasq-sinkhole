# --- /usr/local/etc/dnsmasq.conf ---

# Run as nobody for security (daemon drops root privileges after binding to port 53)
user=nobody

# Listen only on localhost (where dnsmasq runs)
listen-address=127.0.0.1

# Upstream DNS servers (Cloudflare)
server=1.1.1.1
server=1.0.0.1

# Load configuration files (*.conf only)
conf-dir=/usr/local/etc/dnsmasq.d,*.conf

# Load hosts files from the blocklists dir
addn-hosts=/usr/local/etc/dnsmasq.d/blocklists

# Logging to a dedicated file
log-queries
log-facility=/usr/local/var/log/dnsmasq.log
